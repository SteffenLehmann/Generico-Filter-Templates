{"key":"GoogleFolderLegacy","name":"GoogleFolderLegacy","instructions":"","requirecss":"","requirejs":"","shim":"","defaults":"","amd":"1","body":"<div class=\"TemplateContainerGoogleFolder\" style=\"padding-left: 0;\">\n    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css\" as=\"style\" style=\"margin-left: auto;\">\n    <div id=\"HeaderContainer@@AUTOID@@\" class=\"HeaderLinkContainerGoogleFolder\" style=\"padding-left: 0;\">\n        <details id=\"Details@@AUTOID@@\" closed=\"\">\n            <summary id=\"detailsButton@@AUTOID@@\" class=\"detailsCollapsibleGoogleFolder\" tabindex=\"0\"></summary>\n            <div id=\"iframeContainer@@AUTOID@@\" class=\"present_wrapperGoogleFolder\" style=\"padding-left: 0;\">\n                <iframe id=\"Content@@AUTOID@@\" class=\"IframeStyleGoogleFolder\" src=\"\" frameborder=\"0\" allowfullscreen=\"true\" mozallowfullscreen=\"true\" webkitallowfullscreen=\"true\" allow=\"camera;microphone;geolocation\" as=\"style\" ></iframe>\n            </div>\n            <div class=\"Link-containerGoogleFolder\">\n                <a id=\"ShareLink@@AUTOID@@\" href=\"\" target=\"_blank\" class=\"LinkGoogleFolder\" as=\"style\" style=\"margin-left: auto;\" aria-label=\"Open content in a new tab\"><i class=\"fas fa-external-link-alt\"></i> Link</a>\n            </div>\n        </details>\n        <a id=\"ShareLinkHeader@@AUTOID@@\" href=\"\" target=\"_blank\" class=\"HeaderLinkGoogleFolder\" as=\"style\" aria-label=\"Open content in a new tab\"><i class=\"fas fa-external-link-alt\"></i></a>\n    </div>\n</div>\n<script>\nwindow.onload = function(){}\n</script>","bodyend":"","script":"// Custom JS\n// user input from Moodle\nconst summaryName = getLongInput('@@Name@@', 'Name: The name of the button that will contain the google folder', opts);\nconst dURL = getLongInput('@@Google Folder URL@@', 'Google share URL: Remember to make it public for everyone', opts);\n\n/* \n  function to get the user input from the generico object opts. \n  the original input and the bare input must be the same except for the @.\n*/\nfunction getLongInput(original, bare,  opts) {\n    bare = bare.replace(/\\s/g, \"\");\n    if (original === undefined) {\n          for(const obj_new of Object.keys(opts)) {\n                const obj_sanitised = obj_new.replace(/\\s/g, \"\");\n                if(bare == obj_sanitised) {\n                    return opts[obj_new];\n                }\n            }\n    }\n    \n    return original;\n}\n// getting the elements from the HTML\nconst details = document.getElementById('Details'+@@AUTOID@@);\nconst detailsButton = document.getElementById('detailsButton'+@@AUTOID@@);\nconst headerLink = document.getElementById('ShareLinkHeader'+@@AUTOID@@);\nconst shareLink = document.getElementById('ShareLink'+@@AUTOID@@);\n\n// function calls to create the temlate on moodle\ncreateNameForSummary(summaryName);\nassignHeaderLinks(dURL);\n\n// check the background color of the page\nlet previouisBackgroundColor = getBackgroundColor();\nsetBackgrounColor(previouisBackgroundColor);\n\nonLoad(dURL);\n\nfunction constructEmbedURL(url){\n    const embedFolderurl =  \"https://drive.google.com/embeddedfolderview?id=\";\n    const embedFolderurlEnd = \"&amp;usp#list\"\n    let id = url.split(\"/\")[url.split(\"/\").length-1];\n    const n = id.includes(\"?\");\n    \n    if(n == true){\n            id = id.split(\"?\");\n            id.pop();\n    }\n    return embedFolderurl + id + embedFolderurlEnd;\n}\n\n// creates the name for the template\nfunction createNameForSummary(name) {\n    if (typeof(name) != 'undefined') {\n        name = \"ðŸ“‚ \" + name;\n    }\n    detailsButton.textContent = name; // set the name of the button containing the padlet board\n} \n// function to assign the header links\nfunction assignHeaderLinks(url) {\n    headerLink.href = \"\"+ url;\n}\n\nfunction onLoad(url){\n    if (typeof(url) != 'undefined') {\n        details.onclick = function() {\n            const embedUrl = constructEmbedURL(url);\n            document.getElementById('Content'+@@AUTOID@@).src = \"\"+embedUrl;\n            document.getElementById('ShareLink'+@@AUTOID@@).href = \"\"+url;\n        };\n    }\n}\n  // event listener for the details element state change\ndetails.addEventListener(\"toggle\", (event) => {\n    if (details.open) {\n      /* the element was toggled open */\n      detailsButton.style.color = '#3357c2';\n      detailsButton.style.backgroundColor = '#E1E1E1';\n      detailsButton.style.borderBottomRightRadius = '0px';\n      detailsButton.style.borderBottomLeftRadius = '0px';\n      headerLink.style.display = 'none';\n    } else {\n      /* the element was toggled closed */\n      detailsButton.style.backgroundColor = '';\n      detailsButton.style.color = '';\n      detailsButton.style.borderBottomRightRadius = '5px';\n      detailsButton.style.borderBottomLeftRadius = '5px';\n      headerLink.style.display = 'block';\n    }\n});\n\n// function to get the background color of the page\nfunction getBackgroundColor() {\n    const bodyElement = document.body;\n    const computedStyle = window.getComputedStyle(bodyElement);\n    const backgroundColor = computedStyle.backgroundColor;\n\n    return backgroundColor;\n}\n\nfunction setBackgrounColor(backGroundColor) {\n    if (backGroundColor == 'rgb(255, 255, 255)') {\n          if (detailsButton.classList.contains('detailsCollapsibleGoogleFolder')) {return;}\n          // Light mode\n          detailsButton.classList.add('detailsCollapsibleGoogleFolder');\n          detailsButton.classList.remove('detailsCollapsibleDarkModeGoogleFolder');\n          headerLink.classList.add('HeaderLinkGoogleFolder');\n          headerLink.classList.remove('HeaderLinkDarkModeGoogleFolder');\n          shareLink.classList.add('LinkGoogleFolder');\n          shareLink.classList.remove('LinkDarkModeGoogleFolder');\n    } else if (backGroundColor == 'rgb(25, 26, 30)') {\n          if (detailsButton.classList.contains('detailsCollapsibleDarkModeGoogleFolder')) {return;}\n          // Dark mode\n          detailsButton.classList.add('detailsCollapsibleDarkModeGoogleFolder');\n          detailsButton.classList.remove('detailsCollapsibleGoogleFolder');\n          headerLink.classList.add('HeaderLinkDarkModeGoogleFolder');\n          headerLink.classList.remove('HeaderLinkGoogleFolder');\n          shareLink.classList.add('LinkDarkModeGoogleFolder');\n          shareLink.classList.remove('LinkGoogleFolder');\n    }\n}\n\n// custom event to check the background color of the page\nfunction checkBackgroundColor() {\n    const currentBackgroundColor = getBackgroundColor();\n    if (currentBackgroundColor !== previouisBackgroundColor) {\n          previouisBackgroundColor = currentBackgroundColor;\n          // Trigger the custom event\n          const event = new CustomEvent('backgroundColorChanged', {detail: currentBackgroundColor});\n          document.dispatchEvent(event);\n    }\n}\n// listen interval for the background color event \nsetInterval(checkBackgroundColor, 500);\n\n// event listener for the background color change\ndocument.addEventListener('backgroundColorChanged', (event) => {\n    const newBackgroundColor = event.detail;\n    setBackgrounColor(newBackgroundColor);\n});\n","style":".TemplateContainerGoogleFolder{\n    width: 100%;\n    overflow: auto;\n}\n\n.detailsCollapsibleGoogleFolder{\n    cursor: pointer;\n    padding: 10px; \n    border: none; \n    text-align: left; \n    outline: none;\n    font-family: \"Poppins\", sans-serif;\n    font-size: 1rem;\n    font-weight: 500;\n    line-height: 1.5;\n    color: #212121;\n    border-top-right-radius: 5px;\n    border-top-left-radius: 5px;\n    border-bottom-right-radius: 5px;\n    border-bottom-left-radius: 5px;\n    overflow: visible;\n    border: 2px solid transparent;\n}\n\n.detailsCollapsibleGoogleFolder:hover{\n    background-color: #E1E1E1;\n    color: #3357c2;\n}\n\n.detailsCollapsibleGoogleFolder:focus-visible{\n    outline: none;\n    border-color: #468ff4;\n}\n.detailsCollapsibleDarkModeGoogleFolder{\n    cursor: pointer;\n    padding: 10px; \n    border: none; \n    text-align: left; \n    outline: none;\n    font-family: \"Poppins\", sans-serif;\n    font-size: 1rem;\n    font-weight: 500;\n    line-height: 1.5;\n    color: #FFFFFF;\n    border-top-right-radius: 5px;\n    border-top-left-radius: 5px;\n    border-bottom-right-radius: 5px;\n    border-bottom-left-radius: 5px;\n    border: 2px solid transparent;\n}\n\n.detailsCollapsibleDarkModeGoogleFolder:hover{\n    background-color: #CCCCCC;\n    color: #468ff4;\n}\n\n.detailsCollapsibleDarkModeGoogleFolder:focus-visible{\n    outline: none;\n    border-color: #468ff4;\n}\n.present_wrapperGoogleFolder {\n    position: relative;\n    padding-bottom: 60 %;\n    overflow: hidden;\n    height: 58dvh;\n}\n\n.Link-containerGoogleFolder{\n    padding: 10px;\n    border-radius: 5px;\n    display: flex;\n}\n\n.LinkGoogleFolder{\n    display: block;\n    text-decoration: none;\n    padding: 5px 10px;\n    border: 1px solid #E1E1E1;\n    background-color: #E1E1E1; \n    border-radius: 5px; /* Rounded borders */\n    margin-bottom: 5px;\n    margin: 0 5px;\n    color: #131314;\n    font-size: 16px;\n    font-family: \"Poppins\", sans-serif;\n    font-weight: 400;\n    line-height: 1.6;\n}\n\n.LinkGoogleFolder:hover{\n    background-color: #b2b2b2;\n    border: 1px solid #b2b2b2;\n    color: #3357c2;\n}\n.LinkDarkModeGoogleFolder {\n    display: block;\n    text-decoration: none;\n    padding: 5px 10px;\n    border: transparent; \n    background-color: transparent;\n    border-radius: 5px; /* Rounded borders */\n    margin-bottom: 5px;\n    margin: 0 5px;\n    color: #ffffff !important;\n    font-size: 16px;\n    font-family: \"Poppins\", sans-serif;\n    font-weight: 400;\n    line-height: 1.6;\n  }\n  .LinkDarkModeGoogleFolder:hover {\n    background-color: #cccccc;\n    color: #468ff4 !important;;\n  }\n.iframeButtonGoogleFolder{\n    display: none;\n    position: absolute;\n    bottom: 5px;\n    left: 5px;\n    display: block;\n    text-decoration: none;\n    padding: 5px 10px;\n    border: 1px solid #CCCCCC;\n    background-color: #CCCCCC; \n    border-radius: 5px; /* Rounded borders */\n    margin-bottom: 5px;\n    margin: 0 5px;\n    color: #131314;\n    font-size: 16px;\n    font-family: \"Poppins\", sans-serif;\n    font-weight: 400;\n    line-height: 1.5;\n}\n.iframeButtonGoogleFolder:hover{\n    background-color: #666666;\n    border: 1px solid #666666;\n    color: #468ff4;\n}\n\n  .IframeStyleGoogleFolder{\n    width: 100%;\n    height: 100%;\n  }\n\n.HeaderLinkGoogleFolder{\n    text-decoration: none;\n    padding: 10px;\n    border-radius: 5px; /* Rounded borders */\n    color: #212121;\n    font-size: 16px;\n    font-family: \"Poppins\", sans-serif;\n    font-weight: 400;\n    line-height: 1.6;\n    right: 0;\n    border: 2px solid transparent; \n}\n.HeaderLinkGoogleFolder:hover{\n    background-color: #E1E1E1;\n    color: #3357c2;\n}\n.HeaderLinkGoogleFolder:focus-visible{\n    outline: none;\n    border-color: #468ff4;\n}\n.HeaderLinkDarkModeGoogleFolder{\n    text-decoration: none;\n    padding: 10px;\n    border-radius: 5px; /* Rounded borders */\n    color: #FFFFFF !important; \n    font-size: 16px;\n    font-family: \"Poppins\", sans-serif;\n    font-weight: 400;\n    line-height: 1.6;\n    right: 0;\n    border: 2px solid transparent;\n}\n.HeaderLinkDarkModeGoogleFolder:hover{\n    background-color: #CCCCCC;\n    color: #468ff4 !important;\n}\n.HeaderLinkDarkModeGoogleFolder:focus-visible{\n    outline: none;\n    border-color: #468ff4;\n}\n\n.HeaderLinkContainerGoogleFolder{\n    display: flex;\n    align-items: center;\n}\n.HeaderLinkContainerGoogleFolder > :first-child{\n    flex: 1;\n}","dataset":"","datasetvars":"","alternate":"","alternateend":"","version":"Legacy"}